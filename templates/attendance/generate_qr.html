{% extends 'base.html' %}
{% block title %}FAMS | Generate QR{% endblock title %}

{% block content %}
    <p class="font-bold text-xl text-gray-600">QR CODE GENERATOR</p>
    <p id="date-time" class="text-sm"></p>

    <div class="flex justify-center">
        <form method="POST" class="flex flex-col gap-4 justify-center bg-white p-4 rounded-md shadow-xl">
            <p class="text-xl font-bold">Generate QR Code</p>
            {% csrf_token %}
            <input type="text" placeholder="Employee ID" name="qr_url" class="rounded-md" required/>
            <button type="submit" name="generate_qr" class="bg-gradient-to-b from-[#7F8B69] to-[#18442D] hover:from-[#52735D] hover:to-[#52735D] text-white font-bold rounded-md hover:bg-green-500 p-2 px-16 transition transition-delay-1">Generate QR Code</button>
        </form>
    </div>
    {% if qr_code %}
        <img src="{{ qr_code.url }}">
    {% endif %}
    <script>
        function updateDateTime() {
            const now = new Date();
            const dateTime = now.toLocaleString();
            document.getElementById("date-time").innerHTML = dateTime;
        }
        setInterval(updateDateTime, 1000);
    </script>
{% endblock content %}